(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"222":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});var n,r=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(6),s=_interopRequireDefault(i),o=_interopRequireDefault(a(7)),c=a(96),u=a(95),m=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(248)),d=_interopRequireDefault(a(234));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function step(n,r){try{var l=t[n](r),i=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}a(249);var f=(0,c.connect)(function(e){var t=e.cart;return l({},t)})(n=function(e){function Detail(){var e=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Detail);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Detail.__proto__||Object.getPrototypeOf(Detail)).apply(this,arguments));return t.config={"navigationBarTitleText":""},t.componentDidMount=function(){t.setState({"goodsId":t.$router.params.id}),t.getGoodsInfo(t.$router.params.id)},t.join=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var a,n,r,l,i,o,c,u,m;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(s.default.getStorageSync("access_token")){e.next=3;break}return s.default.navigateTo({"url":"/pages/login/index"}),e.abrupt("return");case 3:if(3!=t.state.detail.mode_id||1==t.state.detail.enabled&&0!=t.state.detail.sale_stock){e.next=6;break}return s.default.showToast({"title":"商品已售罄","icon":"none"}),e.abrupt("return");case 6:if(""!==t.state.currentChooseId){e.next=9;break}return s.default.showToast({"title":"请选择尺码","icon":"none"}),e.abrupt("return");case 9:if(1!=t.state.detail.enabled){e.next=40;break}a=t.state,n=a.detail,r=a.currentChooseId,l=a.currentChooseName,i=!0,o=!1,c=void 0,e.prev=14,u=t.props.items[Symbol.iterator]();case 16:if(i=(m=u.next()).done){e.next=24;break}if(m.value.product_id!=n.product_master_id){e.next=21;break}return s.default.showToast({"title":"衣袋已存在该美衣~~","icon":"none"}),e.abrupt("return");case 21:i=!0,e.next=16;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(14),o=!0,c=e.t0;case 30:e.prev=30,e.prev=31,!i&&u.return&&u.return();case 33:if(e.prev=33,!o){e.next=36;break}throw c;case 36:return e.finish(33);case 37:return e.finish(30);case 38:t.props.dispatch({"type":"cart/save","payload":{"items":[].concat(_toConsumableArray(t.props.items),[{"brand":n.brand,"images":n.image[0],"name":n.name,"product_id":n.product_master_id,"product_price":n.market_price,"specification":l,"spu":r,"type":n.type_id}])}}),s.default.showToast({"title":"加入衣袋成功"});case 40:case"end":return e.stop()}},_callee,e,[[14,26,30,38],[31,,33,37]])})),t.chooseSize=function(e){var a=e.currentTarget.dataset,n=a.has_stock,r=a.id,l=a.name;1==n&&(r==t.state.currentChooseId?t.setState({"currentChooseId":"","currentChooseName":""}):(console.log(l),t.setState({"currentChooseId":r,"currentChooseName":l})))},t.showClothesDetail=function(){var e=t.state.detail;return e.measurement&&e.measurement.length>0||e.size_suggestion&&null!=e.size_suggestion||e.fabric&&null!=e.fabric},t.goToPage=function(e){s.default.getEnv()===s.default.ENV_TYPE.WEB?s.default.navigateTo({"url":e.currentTarget.dataset.url}):s.default.switchTab({"url":e.currentTarget.dataset.url})},t.computedStyle=function(e){var a="";return a=e.id==t.state.currentChooseId?"size on":"size",1!=e.has_stock&&(a="size off"),a},t.state={"goodsId":"","detail":{},"imageObj":[],"goodsdata":[],"cartAmount":"","currentChooseId":"","currentChooseName":"","specificationsList":[],"showModal":!1,"closeModalType":0,"modalContent":""},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Detail,i.Component),r(Detail,[{"key":"getGoodsInfo","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,a;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.getProductInfo({"id":e});case 2:"ok"==(t=n.sent).status&&(null!=t.data.measurement?t.data.measurement=String(t.data.measurement).split("\n"):t.data.measurement=[],t.data.comments.rows&&Array.from(t.data.comments.rows).forEach(function(e){switch(e.fit_score){case 1:e.fit_text="尺码偏小";break;case 2:e.fit_text="尺码正好";break;case 3:e.fit_text="尺码偏大"}e.satisfied_score=new Array(e.satisfied_score)}),a=void 0,a=t.data.image?t.data.image.map(function(e){return{"image_src":e}}):[{"image_src":"http://static-r.msparis.com/uploads/d/1/d1ca37e902e5550ad2c82c721bc216ce.png"}],s.default.setNavigationBarTitle({"title":t.data.name}),this.setState({"detail":t.data,"imageObj":a,"specificationsList":t.data.specifications}));case 4:case"end":return n.stop()}},_callee2,this)}));return function getGoodsInfo(t){return e.apply(this,arguments)}}()},{"key":"openSize","value":function openSize(){s.default.navigateTo({"url":"/pages/size/index"})}},{"key":"makePhoneCall","value":function makePhoneCall(){s.default.getEnv()===s.default.ENV_TYPE.WEB?window.location.href="tel:123456":s.default.makePhoneCall({"phoneNumber":"123456"})}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.imageObj,r=t.detail,l=t.currentChooseId,i=t.specificationsList,c=this.props.items;return o.default.createElement(u.View,{"className":"detail-page"},o.default.createElement(u.View,{"className":"image-box-wrap"},o.default.createElement(u.View,{"className":"image-box clearfix"},o.default.createElement(d.default,{"banner":n}),o.default.createElement(u.View,{"className":"share-btn"},o.default.createElement(u.Button,{"open-type":"share"}))),r.mode_id&&3==r.mode_id&&(1!=r.enabled||0==r.sale_stock)&&o.default.createElement(u.View,{"className":"sold-out"},o.default.createElement(u.View,{"className":"sales-end"},"已售罄")),r.enabled&&0!=r.enabled&&1!=r.enabled&&2!=r.enabled&&o.default.createElement(u.View,{"className":"unable"},o.default.createElement(u.View,{"className":"sales-end"},"下架"))),o.default.createElement(u.View,{"className":"container"},o.default.createElement(u.View,{"className":"info-business-card"},o.default.createElement(u.View,{"className":"name"},r.brand),r.market_price/100>500&&o.default.createElement(u.View,{"className":"model"},"参考价 ¥",r.market_price/100)),o.default.createElement(u.View,{"className":"product_name"},2==r.type_id&&1==r.mode_id&&o.default.createElement(u.View,null,"VIP"),r.limit_tag&&""!=r.limit_tag&&o.default.createElement(u.View,{"className":"zan-capsule__center"},r.limit_tag),r.name),o.default.createElement(u.View,{"className":"code"},r.product_spu),o.default.createElement(u.View,{"className":"info-size"},i&&i.length>0&&i.map(function(t,a){return console.log(t),o.default.createElement(u.View,{"key":a},t&&t.options&&t.options.map(function(a,n){return o.default.createElement(u.View,{"key":n},"中码"==t.name?o.default.createElement(u.View,{"className":e.computedStyle(a),"data-has_stock":a.has_stock,"data-id":a.id,"data-name":a.name,"onClick":e.chooseSize},"均码"==a.name?o.default.createElement(u.View,null,"均码"):o.default.createElement(u.View,null,""+t.name+a.value+"号")):o.default.createElement(u.View,{"className":e.computedStyle(a),"data-has_stock":a.has_stock,"data-id":a.id,"onClick":e.chooseSize},o.default.createElement(u.View,{"className":"double"},""+t.name+a.name+"号"),o.default.createElement(u.View,{"className":"double font"},"中码"+a.value+"号")))}))})),o.default.createElement(u.View,{"className":"proudct-size-line","onClick":this.openSize},o.default.createElement(u.View,{"className":"clearfix"},o.default.createElement(u.View,{"className":"icon-tag"}),o.default.createElement(u.View,{"className":"text"},"各国尺码转换表"))),s.default.getEnv()===s.default.ENV_TYPE.WEAPP&&o.default.createElement("ad",{"unit-id":"adunit-8b7bfc0fa927b307"}),o.default.createElement(u.View,null,r.designer_comment&&null!=r.designer_comment&&o.default.createElement(u.View,{"className":"goods-info"},o.default.createElement(u.View,{"className":"chapter-head"},"买手点评"),o.default.createElement(u.View,{"className":"fj"},o.default.createElement(u.Image,{"className":"fj-img","src":r.buyer_Info.avatar,"alt":""}),o.default.createElement(u.View,null,o.default.createElement(u.View,{"className":"fj-name"},r.buyer_Info.nickname),o.default.createElement(u.View,{"className":"fj-tag"},"女神派时尚买手"),o.default.createElement(u.View,{"className":"fj-info"},r.designer_comment))))),this.showClothesDetail()&&o.default.createElement(u.View,{"className":"goods-info"},o.default.createElement(u.View,{"className":"chapter-head"},"美衣详情"),""!=r.measurement&&o.default.createElement(u.View,{"className":"detail-info"},o.default.createElement(u.View,{"className":"head"},o.default.createElement(u.Image,{"src":a(250),"alt":""}),"平铺测量"),r.measurement&&r.measurement.map(function(e,t){return o.default.createElement(u.View,{"className":"block","key":t},e)})),r.size_suggestion&&null!=r.size_suggestion&&o.default.createElement(u.View,{"className":"detail-info"},o.default.createElement(u.View,{"className":"head"},o.default.createElement(u.Image,{"alt":"","src":a(251)}),"尺码建议"),o.default.createElement(u.View,null,r.size_suggestion)),r.fabric&&null!=r.fabric&&o.default.createElement(u.View,{"className":"detail-info"},o.default.createElement(u.View,{"className":"head"},o.default.createElement(u.Image,{"alt":"","src":a(252)}),"面料成分"),null!=r.thickness&&o.default.createElement(u.View,null,"面料：",r.fabric,"(",r.thickness,")"),null==r.thickness&&o.default.createElement(u.View,null,"面料：",r.fabric))),o.default.createElement(u.View,{"className":"goods-info"},o.default.createElement(u.View,{"className":"chapter-head"},"优质评价（",r.comments&&r.comments.total,"）"),r.comments&&0==r.comments.total&&o.default.createElement(u.View,{"className":"text-center"},"———— 暂无优质评价 ————"),r.comments&&r.comments.rows&&r.comments.rows.map(function(e,t){return o.default.createElement(u.View,{"className":"fj","key":t},o.default.createElement(u.Image,{"className":"fj-img","alt":"","src":e.user_pic}),o.default.createElement(u.View,null,o.default.createElement(u.View,{"className":"fj-name font26"},e.nickname),o.default.createElement(u.View,{"className":"fj-tag"},e.fit_text),o.default.createElement(u.View,{"className":"fj-info"},e.comment),o.default.createElement(u.View,{"className":"comment-img"},e.images&&e.images.map(function(e,t){return o.default.createElement(u.Image,{"key":t,"className":"goods-img","mode":"widthFix","src":e.image_url})}))))})),r.brand&&null!=r.brand&&o.default.createElement(u.View,{"className":"goods-info"},o.default.createElement(u.View,{"className":"chapter-head"},"品牌介绍"),o.default.createElement(u.View,{"className":"introduce"},o.default.createElement(u.View,{"className":"b"},r.brand),o.default.createElement(u.View,{"className":"iconfont icon-more"})),null!=r.brand_desc&&o.default.createElement(u.View,{"className":"light"},"    ",r.brand_desc)),o.default.createElement(u.View,{"className":"goods-info"},o.default.createElement(u.View,{"className":"chapter-head"},"服务说明"),o.default.createElement(u.View,{"className":"server-ul"},o.default.createElement(u.View,{"className":"server-list"},o.default.createElement(u.Image,{"mode":"widthFix","src":"http://static-r.msparis.com/uploads/d/6/d646e479e328e9f370462b51fb841e70.png","alt":""}),o.default.createElement(u.View,null,"每次4件"),o.default.createElement(u.View,null,"无限换穿")),o.default.createElement(u.View,{"className":"server-list"},o.default.createElement(u.Image,{"mode":"widthFix","src":"http://static-r.msparis.com/uploads/1/3/137d9963d13a053a6a81784af1256aa9.png","alt":""}),o.default.createElement(u.View,null,"五星洗护"),o.default.createElement(u.View,null,"往返包邮")),o.default.createElement(u.View,{"className":"server-list"},o.default.createElement(u.Image,{"mode":"widthFix","src":"http://static-r.msparis.com/uploads/c/0/c0367921e38cc7fd33f63897b18a86ef.png","alt":""}),o.default.createElement(u.View,null,"APP一键还衣"),o.default.createElement(u.View,null,"快递上门"))))),o.default.createElement(u.View,{"className":"detail-bottom-btns"},o.default.createElement(u.View,{"className":"nav","data-url":"/pages/home/index","onClick":this.goToPage},o.default.createElement(u.Image,{"className":"nav-img","src":a(50),"alt":""}),"首页"),o.default.createElement(u.View,{"className":"nav","onClick":this.makePhoneCall},o.default.createElement(u.Image,{"className":"nav-img","src":a(253),"alt":""}),"客服"),o.default.createElement(u.View,{"className":"nav","data-url":"/pages/cart/index","onClick":this.goToPage},o.default.createElement(u.Image,{"className":"nav-img","src":a(51),"alt":""}),"衣袋",c.length>0&&o.default.createElement(u.View,{"className":"zan-badge__count"},c.length)),o.default.createElement(u.View,{"className":""==l?"join join-disabled":"join","onClick":this.join},"加入衣袋")))}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentDidShow","value":function componentDidShow(){}}]),Detail}())||n;t.default=f},"231":function(e,t,a){e.exports=a(232)()},"232":function(e,t,a){"use strict";var n=a(233);function emptyFunction(){}e.exports=function(){function shim(e,t,a,r,l,i){if(i!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var e={"array":shim,"bool":shim,"func":shim,"number":shim,"object":shim,"string":shim,"symbol":shim,"any":shim,"arrayOf":getShim,"element":shim,"instanceOf":getShim,"node":shim,"objectOf":getShim,"oneOf":getShim,"oneOfType":getShim,"shape":getShim,"exact":getShim};return e.checkPropTypes=emptyFunction,e.PropTypes=e,e}},"233":function(e,t,a){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"234":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.default=void 0;var n=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),r=a(6),l=(_interopRequireDefault(r),_interopRequireDefault(a(7))),i=a(95),s=_interopRequireDefault(a(231));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}a(235);var o=function(e){function MySwiper(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MySwiper),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MySwiper.__proto__||Object.getPrototypeOf(MySwiper)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MySwiper,r.Component),n(MySwiper,[{"key":"render","value":function render(){var e=this.props,t=e.banner,a=e.home;return l.default.createElement(i.Swiper,{"className":a?"swiper":"swiper-container","circular":!0,"indicatorDots":!0,"indicatorColor":"#999","indicatorActiveColor":"#bf708f","autoplay":!0},t.map(function(e,t){return l.default.createElement(i.SwiperItem,{"key":t},l.default.createElement(i.Image,{"mode":"widthFix","src":e.image_src+"!w750"}))}))}}]),MySwiper}();o.propTypes={"banner":s.default.array,"home":s.default.bool},o.defaultProps={"banner":[],"home":!1},t.default=o},"235":function(e,t,a){},"248":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.getProductInfo=void 0;var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}(a(26));t.getProductInfo=function getProductInfo(e){return(0,n.default)({"url":"/product","method":"GET","data":e})}},"249":function(e,t,a){},"250":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAATdJREFUWAntWFsKgzAQ3JSA/qlX8Cwe27N4BfVPQWg7pYF8ZNdHjLWwA2LrZncmE1+reb5BN8bjxto+0lRg7Aqpg7EO2rUC0zTROI40zzMty7I2fFPcWktZllFRFJTnuZhjpNvMMAzU9z2luhMZY6iqKirLkhXJnoNwLqU4KMLEwQEuDqxALGsq53wx4AAXB1YgzrmrIHGxAs+6ILZMUuJiBYYKt21L2Bxi/7s60n6XQKlQqpgKjHVWHVQHYx2IzV99m5EImqaRwrQWF5O/Qb1ItrgkjWHfB7uuk/JOj9V1HaypSxy0ZcdBdXCHWcGh/+sgWsOrIHGxDqJvvQoSFysQTTX61tQAB7g4sALR8aOpTinSNe7S1wX2SeJmdOtPH07kL/fsEv9SlM+tAn03jvxWB4+45ue8AMJmedx14u2BAAAAAElFTkSuQmCC"},"251":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAUdJREFUWAntmOEKgyAUha9DqH/VK/T+z9QrVP8Kgm1HECS45q00N7zgtpp6Ps91OlPvb1DG8cqYzaAVwKsZKg5edVAfdbAsC83zTOu60rZtR9WDvtdaU1VV1DQN1XXtbaN8y8w0TTSOI8VaiZRS1HUdtW3LQrJzEM7FhAMRBg4NaHHBAiKtsZxzYaABLS5YQMy5VOHTYgHv+kGEDNKnxQKGdJyiTgG86nJx8O8dPNyL9w5g5UdBYJtCQUjvm0YBL+I5CJBhGEyxoBZQcj+AzVQRA4Z2fFc9cYqR0r7vjb5NLy6k90MHwP7dQrpShh30XjP7FBfAfcqk18VBqWP7+r/rII6GqcKnxTqIc2uq8GmxgDhU49waO6ABLS5YQJz4sX3FhLQHd9/TBXarsyPK+tGHhXzynU3xk1CudgF03TjzuTh4xjW3zQcgf5cMeQZR9QAAAABJRU5ErkJggg=="},"252":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAqZJREFUWAntmEuvKUEURquRIBGvAXNjE4n//wuEibE5A69IkODeuyr3Oyl9ulpXd/ocAzsRpV579d7frkL055+ZN7bKG7NZtA9g0Qx9Ilg0grVXG1wuF3M4HMz1ejW32+3V9EzjtVrN1Ot10+l0TKPRSF0TpR0z+/3e7HY7U9ZJFEWR6fV6ptvteiG9GiRyZcJBxIPjA18+8wKS1rIi58LgA18+8wKiuZ+yNF9ewKwFcb/fzel0+vYs9DGWxdJ8eQGzbAzAYrEws9nsKU2kjD7GskL6/BUCrFQq9rggAsAAxos2fRwlzCliL8/BtM05JsbjsZ2yXq/NfD63baI2HA7tGHOKWPDj4dytbkH2+32bTsZpA+7CsSZPuoMAcUD6lsvlE+TxeHzSIJ95yYBjTR5NBgGez2dbsaRTkNIc8KR1MBhY/UmTgmMNlc0eIea96larVeI+AqIISCWfBSc9Ag8Qd2673Tbb7da2J5OJvX+TNh6NRkndJiiC7MAFj6NqtWodu3BoTppUJIFjbhpcItn/zmDApM3cotG4WyDqy/MeDKgUEzlSTBo3m82XJl3NETlVtzQZChl0DiJyHKE/nXNUK31oDjgiJ/2RVjQoTTJvOp2aVquVmTMIsNls2s25IXTOSZM4J5JYXHMqHr4UsEeIBQHKMdeXqzGipGrFOdB8lqlwHo+HhVd/lvdgDQLpwklzqlbGaeucFARrGAu1oAjGNxecqznmSJO0JQXaeSw4gq4TUoauqGSdc9IkfYwxp4gF3yRxZxw3XF/xyqTiKYisaQ2+SYhAFgMgDsc6+rLCpfnyppij5KcszZcXEC251VoWLD7w5TMvIL/4+VFdJiR74yPt3wVvkeiJ3vqvD0H+5rs3xb8J5fr+ALrRyNP+RDBP1Nw1fwERwbkJLuRqBQAAAABJRU5ErkJggg=="},"253":function(e,t,a){e.exports=a.p+"static/images/customerservice.png"}}]);